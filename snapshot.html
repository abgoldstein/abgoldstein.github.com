<html>
  <head>
    <title>Snapshot demo</title>
    <script type="text/javascript" src="http://code.jquery.com/jquery-latest.pack.js"></script>
    <script type="text/javascript">
      var video;
      var context;
      var localMediaStream;
      
      $(document).ready(function() {
        video = $("#video")[0];
        context = $("#canvas")[0].getContext('2d');
        
        video.addEventListener('click', snapshot, false);
        navigator.getUserMedia({video: true}, function(stream) {
          video.src = window.URL.createObjectURL(stream);
          localMediaStream = stream;
        }, null);
      });

      function snapshot() {
        context.drawImage(video, 0, 0);
      }
    </script>
  </head>
  <body>
    <video id="video" width="600" height="400" autoplay></video>
    <canvas id="canvas" width="600" height="400"></canvas>
  </body>
</html>